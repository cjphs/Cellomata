
<script>
  const BROWSER_MODE = true;
  let exports = {};
  require = function () {};
</script>

<html>
  <head>
    <title>Cellomata</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main class="container d-flex flex-column h-100" style="max-width: 1600px">

      <div class="row flex-grow-1 px-2 mx-2 align-items-end">
      </div>

       <div class="row px-2 mx-2">

        <!-- Preset -->
          <div class="col-4 d-flex align-items-end">
            <select id="sel-preset" class="w-100 h-100 border-0 rounded px-4" data-bs-theme="dark">
              <option value="life">Game of Life</option>
              <option value="rockpaperscissors">Rock Paper Scissors</option>
              <option value="caves">Caves</option>
              <option value="city">City</option>
              <option value="texture">Texture</option>
            </select>
          </div>

          <!-- State picker -->
          <div class="col-8 col-md-6">
            <div class="state_picker w-100 bg-dark rounded" id="state_picker"></div>
          </div>
        </div>

        <div class="row p-2 m-2" style="height: 60vh;" id="row-interpreter-simulator">

          <!-- Rules editor -->
          <div class="col-4">
            <textarea
              name="rule_input_box"
            ></textarea>
            <div id="rule_input_box" class="h-100 rounded"></div>
          </div>

          <!-- CA Grid -->
          <div class="col-8 col-md-6">
            <div class="grid w-100 h-100 d-flex justify-content-center align-items-center bg-dark rounded p-2" id="grid-parent">
              <canvas id="grid-canvas" class="border border-secondary rounded"></canvas>
            </div>
          </div>
        </div>

        <!-- Interpret -->
        <div class="row flex-grow-1 p-2 m-2 align-items-start">
          <div class="col-4">
            <button
              type="button"
              class="btn btn-primary w-100"
              id="updateRules"
            >
              Interpret
            </button>
          </div>

          <!-- Controls -->
          <div class="col-8 col-md-6">
            <div class="row mx-0">
              <button type="button" class="btn btn-outline-secondary col mr-2" id="clear-grid">
                Clear
              </button>
              <button type="button" class="btn btn-outline-secondary col mx-2" id="step">
                Step
              </button>
              <button type="button" class="btn btn-primary col ml-2" id="play-button">
                Play
              </button>
            </div>
          </div>

          <!-- Attribution :) -->
          <div class="col-2 d-none d-md-block">
            <div class="bg-dark rounded text-white p-2">
              by <a href="https://cjphs.github.io/" target="_blank">cjphs</a>
            </div>
        </div>
    </div>
  </body>
  <script src="./main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</html>
